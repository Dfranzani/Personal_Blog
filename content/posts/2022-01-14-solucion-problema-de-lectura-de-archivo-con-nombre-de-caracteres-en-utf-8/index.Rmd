---
title: 'Solucion: problema de lectura de archivo con nombre (o ruta) de caracteres en UTF-8'
author: Daniel Franzani
date: '2022-01-14'
slug: []
categories: []
tags:
  - R Studio
  - R
---

* **Fecha del problema**: 13 de enero del 2021
* **Fecha de solución**: 14 de enero del 2021

El 13 de enero me encuentro he decidido actualizar R, lo cual hago cada cierto tiempo. Y como es de costumbre, siempre hay inconvenientes, más aún cuando si usas R de manera interactiva con otros programas (por ejemplo Miktex). En este caso, opté por actualizar R y R Studio a la versión más reciente (a la fecha del problema), por lo que todo iba bien hasta que decidí correr un código muy simple en el que estaba trabajando.

El problema ocurría al cargar una base de datos, en mi caso hago uso de la librería `openxlsx` de la siguiente manera:

```{r, eval=FALSE}
library(openxlsx)
df = read.xls("D:/Ejemplo/bases únicas/árbol.xlsx")
```

Lo cual arroja el siguiente mensaje:

```{r, eval=FALSE}
Error in file(con, "r") : invalid 'description' argument
In addition: Warning message: 
In unzip(xlsxFile, exdir = xmlDir) : error 1 in extracting from zip file
```

Este mensaje, puede interpretarse como un error en la lectura de las rutas debido a que no está configurado el lenguaje regional (Panel de control -> Región -> Administrativo -> Cambiar configuración regional del sistema) o que el comando `Sys.getlocale()` muestre una codificación no relacionada a caracteres UTF-8, ya que el problema radica en que R no logra leer el directorio de la base (o el nombre de esta) con los mismos caracteres, específicamente los tíldes. Sin embargo, no está claro a que se debe, siendo los motivos anteriores incorrectos.

La solución más sencilla no está en tratar de arreglar o agregar elementos en los archivos de R, sino que lo mejor es volver a una versión anterior (lógicamente no tenía este error anteriormente). En mi caso utilizo una versión anterior tanto de R como Rstudio, ya que probé solo reinstalando una versión anterior de R pero no fue suficiente. 

Ahora solo nos toca que este "problema" sea aclarado o especificado. Para ello, es recomendable que sigan la página de Github de R y R Studio.
